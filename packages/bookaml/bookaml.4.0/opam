opam-version: "2.0"
name: "bookaml"
version: "4.0"
synopsis: "Library for retrieving information about published books"
description: """
Bookaml is a library providing a basic API to gather information about a book
given its ISBN, or to find any number of books matching given search criteria.
The library is closely tied to the Amazon Product Advertising API, which is
used internally for retrieving book information."""
maintainer: "Dario Teixeira <dario.teixeira@nleyten.com>"
authors: "Dario Teixeira <dario.teixeira@nleyten.com>"
license: "LGPL-2.1 with OCaml linking exception"
homepage: "http://bookaml.forge.ocamlcore.org/"
bug-reports: "https://github.com/darioteixeira/bookaml/issues"
depends: [
  "batteries"
  "calendar"
  "camlp4"
  "cryptokit"
  "ocaml" {>= "4.01.0"}
  "ocamlbuild" {build}
  "ocamlfind"
  "ocamlnet" {>= "4"}
  "ppx_deriving"
  "ppx_sexp_conv" {< "v0.13"}
  "sexplib" {< "v0.13"}
  "tyxml" {< "4.3"}
]
depopts: ["lwt" "ocsigenserver"]
conflicts: [
  "lwt" {>= "4.0.0"}
]
flags: light-uninstall
build: [
  [
    "./configure"
    "--prefix"
    prefix
    "--docdir"
    "%{doc}%/bookaml"
    "--%{ocsigenserver:enable}%-ocsigen"
    "--%{ocamlnet:enable}%-ocamlnet"
  ]
  [make]
  [make "doc"]
]
install: [make "install"]
remove: [
  ["ocamlfind" "remove" "bookaml"]
  ["rm" "-rf" bookaml:doc]
]
dev-repo: "git+https://github.com/darioteixeira/bookaml.git"
url {
  src: "https://github.com/darioteixeira/bookaml/archive/v4.0.tar.gz"
  checksum: "md5=d18eec930a00a2ba442531d3cc12dea1"
}
