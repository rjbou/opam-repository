opam-version: "2.0"
name: "conf-rdkit"
version: "0.1"
synopsis: "Virtual package relying on rdkit library installation"
description: """
This package can only install if the rdkit devel library is installed
on the system."""
maintainer: "unixjunkie@sdf.org"
authors: "https://github.com/rdkit/rdkit/graphs/contributors"
license: "BSD-3"
homepage: "http://www.rdkit.org/"
bug-reports: "https://github.com/ocaml/opam-repository/issues"
flags: conf
build: [
  [
    "sh"
    "-c"
    """
c++ test.cpp -o test -I/usr/local/include -I/usr/include/rdkit -L/usr/local/lib -lRDGeneral || \\
              c++ test.cpp -o test -I/usr/local/include -I/usr/include/rdkit -L/usr/local/lib -lRDKitRDGeneral"""
  ]
  ["./test"]
]
post-messages:
  """
This package requires rdkit to be installed. If you are using homebrew, you might want to try:
    'brew tap rdkit/rdkit; brew install rdkit; pip3 install numpy; brew install --HEAD rdkit --with-python3 --with-inchi'"""
    {failure & os = "macos"}
depexts: [
  ["librdkit-dev" "python-rdkit"] {os-distribution = "debian"}
  ["librdkit-dev" "python-rdkit"] {os-distribution = "ubuntu"}
  ["rdkit-devel" "python2-rdkit"] {os-distribution = "centos"}
]
extra-files: ["test.cpp" "md5=8079a0c593690540fbcb2f848f5b43d5"]
