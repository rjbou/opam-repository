opam-version: "2.0"
name: "macaque"
version: "0.7"
synopsis:
  "Macaque (Macros for Caml Queries) is a DSL for OCaml, wich produce SQL requests from a comprehension syntax. Macaque can build queries by from simpler components, using phantom types used to ensure safety."
maintainer: "Kate <kit.ty.kate@disroot.org>"
authors: [
  "Gabriel Scherer <gasche.dylc@gmail.com>" "Kate <kit.ty.kate@disroot.org>"
]
license: "LGPL v2 with OCaml linking exception"
tags: ["DB" "PostgreSQL" "Postgres" "SQL" "database" "safe" "typed"]
homepage: "https://github.com/ocsigen/macaque"
bug-reports: "https://github.com/ocsigen/macaque/issues"
depends: [
  "camlp4"
  "ocaml"
  "ocamlbuild" {build}
  "ocamlfind" {build}
  "pgocaml" {< "2.0"}
]
flags: light-uninstall
build: [
  ["./configure" "--prefix" prefix]
  [make]
]
install: [make "install"]
remove: ["ocamlfind" "remove" "macaque"]
patches: "fix-configure.patch"
dev-repo: "git+https://github.com/ocsigen/macaque.git"
extra-files: ["fix-configure.patch" "md5=7a1e3bda46fc798eefc2db6f852f2650"]
url {
  src: "https://github.com/ocsigen/macaque/archive/0.7.tar.gz"
  checksum: "md5=fa35be694cda6ecc916573f2c43183cc"
}
