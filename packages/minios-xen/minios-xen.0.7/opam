opam-version: "2.0"
name: "minios-xen"
version: "0.7"
synopsis: "A minimal OS for running under the Xen hypervisor"
description: """
Mini-OS provides architecture-specific boot code, a stack, malloc, an interrupt
handler, a console driver, and some basic C functions. It can be used as a
library to build unikernels such as Mirage."""
maintainer: "mirageos-devel@lists.openmirage.org"
authors: "Thomas Leonard <talex5@gmail.com>"
license: "BSD + some optional GPL components"
homepage: "https://github.com/talex5/mini-os"
bug-reports: "https://github.com/mirage/mini-os/issues"
depends: [
  "conf-perl" {build}
  "ocaml"
]
available: os != "macos"
flags: light-uninstall
build: [make "debug=n"]
install: [
  make "install" "LIBDIR=%{prefix}%/lib" "INCLUDEDIR=%{prefix}%/include"
]
remove: [
  "rm"
  "-r"
  "%{prefix}%/lib/minios-xen"
  "%{prefix}%/lib/pkgconfig/libminios-xen.pc"
  "%{prefix}%/include/minios-xen"
]
dev-repo: "git+https://github.com/talex5/mini-os.git"
url {
  src: "https://github.com/talex5/mini-os/archive/v0.7.tar.gz"
  checksum: "md5=5d317b28e6e540fb027f9f8be871c4af"
}
