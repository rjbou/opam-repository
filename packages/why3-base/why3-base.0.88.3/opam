opam-version: "2.0"
name: "why3-base"
version: "0.88.3"
synopsis: "Why3 environment for deductive program verification (base)"
description: """
This package is for advanced users only, normal users should use the
full why3 package."""
maintainer: "guillaume.melquiond@inria.fr"
authors: [
  "Andrei Paskevich"
  "Claude Marché"
  "François Bobot"
  "Guillaume Melquiond"
  "Jean-Christophe Filliâtre"
]
license: "GNU Lesser General Public License version 2.1"
tags: [
  "automated theorem prover"
  "deductive"
  "formal specification"
  "interactive theorem prover"
  "program verification"
]
homepage: "http://why3.lri.fr/"
doc: "http://why3.lri.fr/doc/"
bug-reports: "https://gitlab.inria.fr/why3/why3/issues"
depends: [
  "menhir"
  "num"
  "ocaml" {>= "4.02.3" & < "4.07.0"}
  "ocamlfind" {build}
]
depopts: [
  "camlzip" "conf-gtksourceview" "coq" "lablgtk" "ocamlgraph" "zarith"
]
conflicts: [
  "coq" {< "8.4"}
  "coq" {>= "8.8"}
  "lablgtk" {< "2.14.2"}
  "ocamlgraph" {< "1.8.2"}
]
flags: light-uninstall
build: [
  [
    "./configure"
    "--prefix"
    prefix
    "--disable-frama-c"
    "--disable-ide" {!conf-gtksourceview:installed}
  ]
  [make "-j%{jobs}%" "all" "opt" "byte"]
  [make "doc" "stdlibdoc" "apidoc"] {with-doc}
]
install: [
  [make "install_no_local" "install_no_local_lib"]
  [make "DOCDIR=%{doc}%/why3" "install-doc"] {with-doc}
]
remove: [
  ["rm" "%{bin}%/why3"]
  ["rm" "-r" "%{lib}%/why3"]
  ["rm" "-r" "%{share}%/why3"]
]
dev-repo: "git+https://gitlab.inria.fr/why3/why3.git"
url {
  src:
    "https://gforge.inria.fr/frs/download.php/file/37313/why3-0.88.3.tar.gz"
  checksum: "md5=1ee0fd41075ba5e77a4b94ad0cc2dd43"
}
