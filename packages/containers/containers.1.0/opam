opam-version: "2.0"
name: "containers"
version: "1.0"
synopsis:
  "A modular, clean and powerful extension of the OCaml standard library."
description: """
Containers is an extension of OCaml's standard library (under BSD license)
focused on data structures, combinators and iterators, without dependencies on
unix, str or num. Every module is independent and is prefixed with 'CC' in the
global namespace. Some modules extend the stdlib (e.g. CCList provides safe
map/fold_right/append, and additional functions on lists).
Alternatively, `open Containers` will bring enhanced versions of the standard
modules into scope.

It also features sub-libraries for dealing with threads, S-expressions,
and the intricacies of unix."""
maintainer: "simon.cruanes@inria.fr"
authors: "Simon Cruanes"
tags: ["containers" "heap" "iterators" "list" "queue" "stdlib"]
homepage: "https://github.com/c-cube/ocaml-containers/"
doc: "http://cedeela.fr/~simon/software/containers/"
bug-reports: "https://github.com/c-cube/ocaml-containers/issues/"
depends: [
  "base-bytes"
  "cppo" {build}
  "ocaml" {>= "4.01.0" & < "4.08.0"}
  "ocamlbuild" {build}
  "ocamlfind" {build}
  "qtest" {with-test}
  "result"
]
depopts: ["base-threads" "base-unix"]
conflicts: [
  "sequence" {< "0.5"}
]
flags: light-uninstall
build: [
  [
    "./configure"
    "--prefix"
    prefix
    "--disable-bench"
    "--disable-tests"
    "--%{base-unix:enable}%-unix"
    "--enable-docs"
  ]
  [make "build"]
  [make "test"] {with-test}
  [make "doc"] {with-doc}
]
install: [make "install"]
remove: ["ocamlfind" "remove" "containers"]
post-messages: """
Major release, with breaking changes. The APIs are more focused,
more consistent, and some sub-libraries were removed or merged into the core
ones.

A summary of the changes can be found at
https://github.com/c-cube/ocaml-containers/issues/84
and in the changelog
https://github.com/c-cube/ocaml-containers/blob/1.0/CHANGELOG.adoc"""
dev-repo: "git+https://github.com/c-cube/ocaml-containers.git"
url {
  src: "https://github.com/c-cube/ocaml-containers/archive/1.0.tar.gz"
  checksum: "md5=0d5481a695b9d39ac02f46f2cb641c65"
}
