opam-version: "2.0"
name: "ocaml-lua"
version: "1.7"
synopsis: "Lua bindings"
description: """
Lua is a powerful, light-weight programming language designed for
extending applications. It provides a good general purpose programming
language to replace DSL that don't really need to be specific.

This library provides bindings to Lua API which allows the application
to exchange data with Lua programs and also to extend Lua with OCaml
functions.

[Lua homepage](http://www.lua.org)"""
maintainer: "p.donadeo@gmail.com"
authors: ["Paolo Donadeo" "Sylvain Le Gall"]
license: "MIT"
homepage: "https://pdonadeo.github.io/ocaml-lua/"
bug-reports: "https://github.com/pdonadeo/ocaml-lua/issues"
depends: [
  "ocaml" {>= "4.02.1" & < "4.08.0"}
  "ocamlbuild" {build}
  "ocamlfind" {build}
]
flags: light-uninstall
build: [
  [
    "./configure"
    "--enable-docs"
    "--prefix"
    prefix
    "--docdir"
    "%{doc}%/ocaml-lua"
    "--libdir"
    "%{lib}%/ocaml-lua"
  ]
  [make]
  [make "doc"]
]
install: [make "install"]
remove: [
  ["ocamlfind" "remove" "lua"]
  ["rm" "-R" "%{doc}%/ocaml-lua"]
]
depexts: [
  ["compat-lua-devel"] {os-distribution = "fedora"}
  ["liblua5.1-0-dev"] {os-distribution = "debian"}
  ["liblua5.1-0-dev"] {os-distribution = "ubuntu"}
  ["lua-dev"] {os-distribution = "alpine"}
  ["lua-devel"] {os-distribution = "centos"}
  ["lua51"] {os = "macos" & os-distribution = "homebrew"}
  ["lua51-devel"] {os-family = "suse"}
]
dev-repo: "git+https://github.com/pdonadeo/ocaml-lua.git"
url {
  src: "https://github.com/pdonadeo/ocaml-lua/archive/v1.7.tar.gz"
  checksum: "md5=7d6cd09c144e4ad48e591252c21974cc"
}
